<div data-bind="if: googleApi">
  <div class="google-map" data-bind="mapSetup: googleApi"></div>

  <map-sidenav params="googleApi: googleApi,
                       map: map,
                       properties: properties,
                       visibleProperties: visibleProperties,
                       updatePropertiesHandler: updateProperties.bind($component),
                       onOpen: resetSelectedProperty.bind($component),
                       onClose: refreshMapAndAttachMarkers.bind($component),
                       onSelectProperty: selectProperty.bind($component)"></map-sidenav>

  <property-modal params="googleApi: googleApi,
                          map: map,
                          selectedProperty: selectedProperty"></property-modal>
</div>

<div data-bind="ifnot: googleApi" class="load-error">
  <div class="icon">
    <i>!</i>
  </div>
  <h1>Oops! Something went wrong :(</h1>
  <p>There was an error loading Google Maps. See the Javascript console for technical details.</p>
</div>
